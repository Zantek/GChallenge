:root {
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --bg-card: #1e293b;
    --bg-header: #111827;
    --text-primary: #f8fafc;
    --text-secondary: #94a3b8;
    --accent: #3b82f6;
    --border: #1e293b;
    --radius: 0.75rem;
    --font-main: 'Inter', sans-serif;
}

[data-theme='brick'] {
    --bg-primary: #8bac0f;
    --bg-secondary: #9bbc0f;
    --bg-card: #9bbc0f;
    --bg-header: #306230;
    --text-primary: #0f380f;
    --text-secondary: #306230;
    --accent: #0f380f;
    --border: #0f380f;
    --radius: 0px;
}

[data-theme='cube'] {
    --bg-primary: #6a5acd;
    --bg-secondary: #483d8b;
    --bg-card: #1e1e1e;
    --bg-header: #4b0082;
    --text-primary: #ffffff;
    --text-secondary: #dcdcdc;
    --accent: #ff4500;
    --border: #4b0082;
    --radius: 2rem;
}

[data-theme='os'] {
    --bg-primary: #c0c0c0;
    --bg-secondary: #c0c0c0;
    --bg-card: #ffffff;
    --bg-header: #000080;
    --text-primary: #000000;
    --text-secondary: #404040;
    --accent: #000080;
    --border: #808080;
    --radius: 0px;
}

[data-theme='legacy'] {
    --bg-primary: #000000;
    --bg-secondary: #000000;
    --bg-card: #000000;
    --bg-header: #000000;
    --text-primary: #ffffff;
    --text-secondary: #cccccc;
    --accent: #ffffff;
    --border: #333333;
    --radius: 0.5rem;
}

[data-theme='blueprint'] {
    --bg-primary: #002b5c;
    --bg-secondary: #003d7a;
    --bg-card: rgba(0, 43, 92, 0.5);
    --bg-header: #001f42;
    --text-primary: #ffffff;
    --text-secondary: #8da9c4;
    --accent: #00f2ff;
    --border: #ffffff;
    --radius: 0px;
}

[data-theme='woodgrain'] {
    --bg-primary: #3d2b1f;
    --bg-secondary: #5c4033;
    --bg-card: #4a3728;
    --bg-header: #2a1b0e;
    --text-primary: #fdf5e6;
    --text-secondary: #d2b48c;
    --accent: #ffbf00;
    --border: #1a0f00;
    --radius: 4px;
}

[data-theme='papercraft'] {
    --bg-primary: #e6dfcf;
    --bg-secondary: #dcd4c3;
    --bg-card: #f4eee1;
    --bg-header: #cbbba0;
    --text-primary: #2c2c2c;
    --text-secondary: #5a5a5a;
    --accent: #d32f2f;
    --border: #333333;
    --radius: 2px;
}

/* --- Theme Global Overrides --- */

[data-theme='brick'] .bg-gaming-accent { background-color: var(--accent) !important; color: var(--bg-primary) !important; }
[data-theme='brick'] header .text-gaming-text, [data-theme='brick'] header h1 { color: var(--bg-primary) !important; }
[data-theme='brick'] header .text-gaming-muted, [data-theme='brick'] header #xp-text { color: #0f380f !important; opacity: 1 !important; }
[data-theme='brick'] .text-blue-400, 
[data-theme='brick'] .text-emerald-400,
[data-theme='brick'] .text-orange-400,
[data-theme='brick'] .text-yellow-400,
[data-theme='brick'] .text-purple-400 { color: #0f380f !important; }

/* Brick Theme Difficulty Stars */
[data-theme='brick'] .text-yellow-500 {
    color: #0f380f !important;
}
[data-theme='brick'] .text-gaming-text\/10 {
    color: rgba(15, 56, 15, 0.15) !important;
}

/* Brick Theme Header Details */
[data-theme='brick'] header h1 .text-blue-500,
[data-theme='brick'] header h1 svg {
    color: #0f380f !important;
}
[data-theme='brick'] #now-playing-marquee .bg-black\/40 {
    background-color: #8bac0f !important;
    border-color: #0f380f !important;
}
[data-theme='brick'] #now-playing-marquee .marquee-content,
[data-theme='brick'] #now-playing-marquee .text-emerald-500 {
    color: #0f380f !important;
}
[data-theme='brick'] #now-playing-marquee .bg-emerald-500 {
    background-color: #0f380f !important;
}
[data-theme='brick'] #level-badge {
    background-color: #0f380f !important;
    color: #8bac0f !important;
    box-shadow: none !important;
}
[data-theme='brick'] header button.bg-blue-600 {
    background-color: #0f380f !important;
    color: #8bac0f !important;
    box-shadow: none !important;
}

/* --- Dot Matrix Grid Effect (Brick Theme) --- */
[data-theme='brick'] .game-card-front .relative.h-40::after,
[data-theme='brick'] #modal-banner::after {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 15;
    background-image: radial-gradient(rgba(15, 56, 15, 0.4) 1px, transparent 1px);
    background-size: 3px 3px;
    pointer-events: none;
}

[data-theme='brick'] img {
    filter: sepia(1) hue-rotate(40deg) saturate(2) brightness(0.9) contrast(1.2) !important;
}

[data-theme='os'] .bg-blue-600 { background-color: #000080 !important; }
[data-theme='os'] header .text-gaming-text, [data-theme='os'] header h1 { color: #ffffff !important; }
[data-theme='os'] header .text-gaming-muted, [data-theme='os'] header .text-gaming-muted\/60 { color: rgba(255,255,255,0.8) !important; }
[data-theme='os'] header #progress-text, [data-theme='os'] header h1 span { color: #ffffff !important; }
[data-theme='os'] header h1 svg { color: #ffffff !important; }
[data-theme='os'] #level-badge { 
    background-color: #c0c0c0 !important; 
    color: #000000 !important; 
    border: 2px solid; 
    border-color: #ffffff #808080 #808080 #ffffff !important; 
    border-radius: 0px !important;
    font-weight: 900;
    box-shadow: none !important;
}

[data-theme='legacy'] h1, [data-theme='legacy'] h2, [data-theme='legacy'] h3, [data-theme='legacy'] h1 span { color: #ffffff !important; letter-spacing: -0.05em; }
[data-theme='legacy'] .text-gaming-accent, [data-theme='legacy'] .text-blue-500, [data-theme='legacy'] #progress-text { color: #ffffff !important; }
[data-theme='legacy'] #level-badge { background-color: #ffffff !important; color: #000000 !important; border-radius: 0.5rem !important; font-weight: 900; }

[data-theme='blueprint'] #now-playing-marquee .bg-black\/40 {
    background-color: #001f42 !important;
    border-color: var(--accent) !important;
}
[data-theme='blueprint'] #now-playing-marquee .marquee-content,
[data-theme='blueprint'] #now-playing-marquee .text-emerald-400,
[data-theme='blueprint'] #now-playing-marquee .text-red-500 {
    color: var(--accent) !important;
}
[data-theme='blueprint'] #marquee-status,
[data-theme='blueprint'] #marquee-led {
    color: var(--accent) !important;
    /* background-color: var(--accent) !important; */
}

[data-theme='woodgrain'] header .text-gaming-text, [data-theme='woodgrain'] header h1 { color: #fdf5e6 !important; }
[data-theme='woodgrain'] #level-badge { 
    background-color: #ffbf00 !important; 
    color: #1a0f00 !important; 
    border: 2px solid #1a0f00 !important;
    font-weight: 900;
}
[data-theme='woodgrain'] #now-playing-marquee .bg-black\/40 {
    background-color: #1a0f00 !important;
    border-color: #ffbf00 !important;
}
[data-theme='woodgrain'] #now-playing-marquee .marquee-content,
[data-theme='woodgrain'] #now-playing-marquee .text-emerald-500,
[data-theme='woodgrain'] #now-playing-marquee .text-red-500 {
    color: #ffbf00 !important;
}

[data-theme='papercraft'] header .text-gaming-text, [data-theme='papercraft'] header h1 { color: #2c2c2c !important; }
[data-theme='papercraft'] #level-badge { 
    background-color: #d32f2f !important; 
    color: #ffffff !important; 
    border: 2px solid #333 !important;
    font-weight: 900;
}
[data-theme='papercraft'] #now-playing-marquee .bg-black\/40 {
    background-color: #f4eee1 !important;
    border-color: #333 !important;
}
[data-theme='papercraft'] #now-playing-marquee .marquee-content,
[data-theme='papercraft'] #now-playing-marquee .text-emerald-500,
[data-theme='papercraft'] #now-playing-marquee .text-red-500 {
    color: #333 !important;
}
[data-theme='papercraft'] #marquee-led {
    background-color: #d32f2f !important;
}

/* Legacy Theme Button Overrides (including Share and Active Radio Channels) */
[data-theme='legacy'] .bg-blue-600,
[data-theme='legacy'] .bg-gaming-accent,
[data-theme='legacy'] .hover\:bg-blue-500:hover,
[data-theme='legacy'] .poster-btn:hover {
    background-color: #ffffff !important;
    color: #000000 !important;
    border: 1px solid #ffffff !important;
}
[data-theme='legacy'] .poster-btn:hover span,
[data-theme='legacy'] .poster-btn:hover svg {
    color: #000000 !important;
}

/* Legacy Toolbar Transparency */
[data-theme='legacy'] header .bg-gaming-card\/80 {
    background-color: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

/* Legacy Theme Image Filters */
[data-theme='legacy'] img, 
[data-theme='legacy'] #modal-banner {
    filter: grayscale(1) contrast(1.2) brightness(0.9) !important;
}

/* Legacy Buddy Refinements */
[data-theme='legacy'] .companion-window .bg-gaming-accent span {
    color: #000000 !important;
}
[data-theme='legacy'] .companion-window .bg-gaming-accent .w-2.h-2 {
    background-color: #000000 !important;
}
[data-theme='legacy'] .companion-floor {
    background-color: #111111 !important;
    border-top: 2px solid #ffffff !important;
    /* Add dots to floor as well */
    background-image: radial-gradient(rgba(255, 255, 255, 0.2) 1px, transparent 1px) !important;
    background-size: 4px 4px !important;
}
[data-theme='legacy'] .companion-window .bg-gaming-dark\/30 {
    background-image: radial-gradient(rgba(255, 255, 255, 0.2) 1px, transparent 1px) !important;
    background-size: 4px 4px !important;
    background-color: #000000 !important;
}
[data-theme='legacy'] #companion-sprite {
    background: transparent !important;
}

/* Legacy Genre Color Overrides (Front & Back) */
[data-theme='legacy'] .text-blue-400,
[data-theme='legacy'] .bg-blue-900\/20,
[data-theme='legacy'] .bg-blue-900\/30 {
    color: #ffffff !important;
    background-color: transparent !important; /* Fixed: removed the bg color */
    border-color: rgba(255,255,255,0.2) !important;
}
