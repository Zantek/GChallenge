/* --- General UI Components --- */

/* Custom Checkbox */
.custom-checkbox {
    appearance: none;
    background-color: var(--bg-primary);
    width: 1.5em; height: 1.5em;
    border: 2px solid var(--border);
    border-radius: 0.25em;
    display: grid; place-content: center;
    cursor: pointer;
}
.custom-checkbox::before {
    content: ""; width: 0.65em; height: 0.65em;
    transform: scale(0); transition: 120ms transform ease-in-out;
    box-shadow: inset 1em 1em white;
    clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);
}
.custom-checkbox:checked { background-color: #10b981; border-color: #10b981; }
.custom-checkbox:checked::before { transform: scale(1); }

[data-theme='legacy'] .custom-checkbox:checked { background-color: #ffffff !important; border-color: #ffffff !important; }
[data-theme='legacy'] .custom-checkbox:checked::before { box-shadow: inset 1em 1em #000000 !important; }

[data-theme='brick'] .custom-checkbox:checked { background-color: var(--accent) !important; border-color: var(--accent) !important; }
[data-theme='brick'] .custom-checkbox:checked::before { box-shadow: inset 1em 1em var(--bg-primary) !important; }

/* Scrollbars */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--bg-primary); }
::-webkit-scrollbar-thumb { background: var(--bg-header); border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: var(--accent); }

/* Progress & XP Bars */
#progress-bar, #xp-bar { transition: all 0.7s ease-out; }
[data-theme='legacy'] #progress-bar, [data-theme='legacy'] #xp-bar { background-color: #ffffff !important; background-image: none !important; }
[data-theme='legacy'] .bg-gaming-dark, [data-theme='legacy'] .bg-gray-700 { background-color: #000000 !important; border: 1px solid #ffffff !important; }
[data-theme='legacy'] .bg-gray-700:hover { background-color: #000000 !important; }
[data-theme='legacy'] .bg-gradient-to-r { background-image: none !important; }

/* Brick Progress Overrides */
[data-theme='brick'] #progress-bar, [data-theme='brick'] #xp-bar { background-color: var(--accent) !important; background-image: none !important; }
[data-theme='brick'] .bg-gray-700, [data-theme='brick'] .bg-gray-800 { background-color: var(--bg-primary) !important; border: 1px solid var(--accent); }

/* --- List Headers --- */
[data-theme='brick'] .list-accent-bar { background-color: var(--accent) !important; width: 4px; border-radius: 0; }
[data-theme='brick'] .list-count-badge { background-color: var(--accent) !important; color: var(--bg-primary) !important; border-radius: 0; }

[data-theme='cube'] .list-accent-bar { background: linear-gradient(to bottom, #ff4500, #4b0082) !important; width: 6px; }
[data-theme='cube'] .list-count-badge { background-color: #4b0082 !important; color: #ffffff !important; border: 2px solid #ffffff !important; border-radius: 1rem; }

[data-theme='os'] .list-accent-bar { background-color: #808080 !important; width: 2px; border-radius: 0; }
[data-theme='os'] .list-count-badge { background-color: #c0c0c0 !important; color: #000000 !important; border: 1px solid #808080 !important; border-radius: 0; }

[data-theme='legacy'] .list-accent-bar { background-color: #ffffff !important; width: 1px; border-radius: 0; }
[data-theme='legacy'] .list-count-badge { background-color: #000000 !important; color: #ffffff !important; border: 1px solid #ffffff !important; border-radius: 0; }

/* --- Trophies --- */
.trophy { transition: all 0.5s ease; filter: grayscale(1) opacity(0.3); }
.trophy.unlocked { filter: grayscale(0) opacity(1); }
[data-theme='legacy'] .bg-yellow-500 { background-color: #ffffff !important; }
[data-theme='brick'] .bg-yellow-500 { background-color: var(--accent) !important; }
.trophy-slot.unlocked .trophy-icon-container::after {
    content: ''; position: absolute; inset: -10px;
    background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
    opacity: 0.2; animation: pulse 3s infinite;
}

/* --- Alignment Chart / Skill Tree --- */
.skill-node {
    position: absolute; width: 3rem; height: 3rem;
    background: var(--bg-secondary); border: 2px solid var(--border); border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.5s ease; filter: grayscale(1) brightness(0.5);
}
.skill-node.active { filter: grayscale(0) brightness(1.2); transform: scale(1.1); box-shadow: 0 0 15px currentColor; }
